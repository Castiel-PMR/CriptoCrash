# üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏ CriptoCrash (22.10.2025)

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–ª—è–ª–æ **2+ GB –ø–∞–º—è—Ç–∏** –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ –∏–∑-–∑–∞:
- –ù–∞–∫–æ–ø–ª–µ–Ω–∏—è —á–∞—Å—Ç–∏—Ü (—Ç—ã—Å—è—á–∏ –æ–±—ä–µ–∫—Ç–æ–≤)
- –ë–µ—Å–∫–æ–Ω–µ—á–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞ –º–∞—Å—Å–∏–≤–∞ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–π
- –ß–∞—Å—Ç–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Bitcoin –≥—Ä–∞—Ñ–∏–∫–∞ (–∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É)
- –ë–æ–ª—å—à–æ–≥–æ Set –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ª–∏–∫–≤–∏–¥–∞—Ü–∏–π

---

## ‚úÖ –í–Ω–µ–¥—Ä–µ–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. **–õ–∏–º–∏—Ç—ã –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏**

#### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
```typescript
const MAX_PARTICLES = 300;        // –ë—ã–ª–æ: –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ
const MAX_LIQUIDATIONS = 20;      // –ë—ã–ª–æ: –¥–æ 100
const MAX_PROCESSED_IDS = 200;    // –ë—ã–ª–æ: 1000
const PARTICLE_CLEANUP_INTERVAL = 5000; // –ù–æ–≤–æ–µ: –æ—á–∏—Å—Ç–∫–∞ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫
```

**–≠—Ñ—Ñ–µ–∫—Ç:** –ü–∞–º—è—Ç—å –Ω–µ —Ä–∞—Å—Ç–µ—Ç –≤—ã—à–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –ø—Ä–µ–¥–µ–ª–∞

---

### 2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —á–∞—Å—Ç–∏—Ü**

#### –£—Å–∫–æ—Ä–µ–Ω–Ω–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ:
- **–û–±—ã—á–Ω—ã–µ —á–∞—Å—Ç–∏—Ü—ã:** decay —É–≤–µ–ª–∏—á–µ–Ω —Å `0.008-0.015` –¥–æ `0.015-0.02` (‚ö° –±—ã—Å—Ç—Ä–µ–µ –Ω–∞ 50%)
- **–í–∑—Ä—ã–≤—ã:** decay –¥–ª—è –≤—Å–µ—Ö 10 —Ç–∏–ø–æ–≤ —É–≤–µ–ª–∏—á–µ–Ω –¥–æ `0.02-0.03` (‚ö° –±—ã—Å—Ç—Ä–µ–µ –Ω–∞ 100-200%)

#### –£–º–µ–Ω—å—à–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å—Ç–∏—Ü:
- **–ö–ª–∏–∫ –ø–æ –º–µ—à–∫—É:** 50 ‚Üí **20 —á–∞—Å—Ç–∏—Ü** (‚¨áÔ∏è -60%)
- **–ü—É—à–∫–∞:** 50 ‚Üí **20 —á–∞—Å—Ç–∏—Ü** (‚¨áÔ∏è -60%)
- **–ü–∞–¥–µ–Ω–∏–µ:** 15 ‚Üí **8 —á–∞—Å—Ç–∏—Ü** (‚¨áÔ∏è -47%)

**–≠—Ñ—Ñ–µ–∫—Ç:** –ú–µ–Ω—å—à–µ –æ–±—ä–µ–∫—Ç–æ–≤ –≤ –ø–∞–º—è—Ç–∏, –±—ã—Å—Ç—Ä–µ–µ –æ—á–∏—Å—Ç–∫–∞

---

### 3. **–ê–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–µ –ª–∏–º–∏—Ç—ã –≤ —Ü–∏–∫–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏**

```typescript
// –ü–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –ø—Ä–æ–≤–µ—Ä—è–µ–º –ª–∏–º–∏—Ç—ã
if (state.liquidations.length > MAX_LIQUIDATIONS) {
  state.liquidations = state.liquidations.slice(-MAX_LIQUIDATIONS);
}

if (state.particles.length > MAX_PARTICLES) {
  state.particles = state.particles.slice(-MAX_PARTICLES);
}
```

**–≠—Ñ—Ñ–µ–∫—Ç:** –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–æ—Å—Ç–∞ –º–∞—Å—Å–∏–≤–æ–≤

---

### 4. **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø–∞–º—è—Ç–∏ (–∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥)**

```typescript
const memoryCleanup = setInterval(() => {
  const now = Date.now();
  // –£–¥–∞–ª—è–µ–º —á–∞—Å—Ç–∏—Ü—ã —Å—Ç–∞—Ä—à–µ 10 —Å–µ–∫—É–Ω–¥
  state.particles = state.particles.filter(p => (now - p.createdAt) < 10000);
  
  // –û—á–∏—â–∞–µ–º Set –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö ID
  if (processedLiquidations.current.size > MAX_PROCESSED_IDS) {
    const entries = Array.from(processedLiquidations.current);
    processedLiquidations.current = new Set(entries.slice(-(MAX_PROCESSED_IDS / 2)));
  }
}, 5000);
```

**–≠—Ñ—Ñ–µ–∫—Ç:** –£–¥–∞–ª–µ–Ω–∏–µ "–º–µ—Ä—Ç–≤—ã—Ö" –æ–±—ä–µ–∫—Ç–æ–≤, –æ—á–∏—Å—Ç–∫–∞ —É—Ç–µ—á–µ–∫

---

### 5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è WebSocket –¥–∞–Ω–Ω—ã—Ö**

#### useLiquidationData.tsx:
```typescript
// –ë—ã–ª–æ: 100 –ª–∏–∫–≤–∏–¥–∞—Ü–∏–π
return updated.slice(-100);

// –°—Ç–∞–ª–æ: 30 –ª–∏–∫–≤–∏–¥–∞—Ü–∏–π
return updated.slice(-30); // ‚¨áÔ∏è -70%
```

**–≠—Ñ—Ñ–µ–∫—Ç:** –ú–µ–Ω—å—à–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ React

---

### 6. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Bitcoin –≥—Ä–∞—Ñ–∏–∫–∞**

#### –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:
```typescript
// –ë—ã–ª–æ: –∫–∞–∂–¥—É—é 1 —Å–µ–∫—É–Ω–¥—É
const interval = setInterval(fetchBitcoinData, 1 * 1000);

// –°—Ç–∞–ª–æ: –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
const interval = setInterval(fetchBitcoinData, 10 * 1000); // ‚¨áÔ∏è -90% –∑–∞–ø—Ä–æ—Å–æ–≤
```

#### –£–ø—Ä–æ—â–µ–Ω–∏–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞:
```typescript
// –ü—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–≤–µ—á–µ–π —Ä–∏—Å—É–µ–º –∫–∞–∂–¥—É—é –≤—Ç–æ—Ä—É—é
const drawStep = bitcoinCandles.length > 100 ? 2 : 1;

bitcoinCandles.forEach((candle, index) => {
  if (index % drawStep !== 0) return; // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
  // ...
});
```

**–≠—Ñ—Ñ–µ–∫—Ç:** 
- –ú–µ–Ω—å—à–µ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- –ë—ã—Å—Ç—Ä–µ–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ (–≤ 2 —Ä–∞–∑–∞ –º–µ–Ω—å—à–µ –æ–ø–µ—Ä–∞—Ü–∏–π)

---

### 7. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**

#### LiveStatsPanel:
```typescript
// –ë—ã–ª–æ: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º 5 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –ª–∏–∫–≤–∏–¥–∞—Ü–∏–π
const displayLiquidations = recentLiquidations.slice(-5).reverse();

// –°—Ç–∞–ª–æ: –ø–æ–∫–∞–∑—ã–≤–∞–µ–º 3 –ø–æ—Å–ª–µ–¥–Ω–∏–µ
const displayLiquidations = recentLiquidations.slice(-3).reverse(); // ‚¨áÔ∏è -40%
```

**–≠—Ñ—Ñ–µ–∫—Ç:** –ú–µ–Ω—å—à–µ DOM —ç–ª–µ–º–µ–Ω—Ç–æ–≤

---

### 8. **–û—á–∏—Å—Ç–∫–∞ Set –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö ID**

```typescript
// –ë—ã–ª–æ: 1000 ‚Üí 500 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
if (processedLiquidations.current.size > 1000) {
  processedLiquidations.current = new Set(entries.slice(-500));
}

// –°—Ç–∞–ª–æ: 200 ‚Üí 100 —ç–ª–µ–º–µ–Ω—Ç–æ–≤  
if (processedLiquidations.current.size > MAX_PROCESSED_IDS) {
  processedLiquidations.current = new Set(entries.slice(-(MAX_PROCESSED_IDS / 2)));
}
```

**–≠—Ñ—Ñ–µ–∫—Ç:** ‚¨áÔ∏è -80% –ø–∞–º—è—Ç–∏ –¥–ª—è Set

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- üíæ –ü–∞–º—è—Ç—å: **2+ GB** –ø–æ—Å–ª–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã
- üêå –ß–∞—Å—Ç–∏—Ü –≤ –ø–∞–º—è—Ç–∏: **10,000+** (–Ω–∞–∫–∞–ø–ª–∏–≤–∞–ª–∏—Å—å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ)
- üì¶ –õ–∏–∫–≤–∏–¥–∞—Ü–∏–π: **100+** –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- üîÑ Bitcoin –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: **–∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É**
- üìù Processed Set: **1000+** —ç–ª–µ–º–µ–Ω—Ç–æ–≤

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- üíæ –ü–∞–º—è—Ç—å: **~200-400 MB** —Å—Ç–∞–±–∏–ª—å–Ω–æ (‚¨áÔ∏è **-80-90%**)
- ‚ö° –ß–∞—Å—Ç–∏—Ü –≤ –ø–∞–º—è—Ç–∏: **–º–∞–∫—Å 300** (–ª–∏–º–∏—Ç)
- üì¶ –õ–∏–∫–≤–∏–¥–∞—Ü–∏–π: **–º–∞–∫—Å 20** –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- üîÑ Bitcoin –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è: **–∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥**
- üìù Processed Set: **–º–∞–∫—Å 200** —ç–ª–µ–º–µ–Ω—Ç–æ–≤

---

## üéÆ –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–µ –ø–æ—Ç–µ—Ä—è–Ω):
- ‚úÖ –í—Å–µ 10 —Ç–∏–ø–æ–≤ –≤–∑—Ä—ã–≤–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏—è –ø–ª–∞–≤–Ω–∞—è –∏ –∫—Ä–∞—Å–∏–≤–∞—è
- ‚úÖ –ü—É—à–∫–∞ —Å—Ç—Ä–µ–ª—è–µ—Ç
- ‚úÖ Bitcoin –≥—Ä–∞—Ñ–∏–∫ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- ‚úÖ –í—Å–µ —ç—Ñ—Ñ–µ–∫—Ç—ã –Ω–∞ –º–µ—Å—Ç–µ

### üöÄ –£–ª—É—á—à–µ–Ω–æ:
- ‚ö° –ß–∞—Å—Ç–∏—Ü—ã –∏—Å—á–µ–∑–∞—é—Ç –±—ã—Å—Ç—Ä–µ–µ (–º–µ–Ω—å—à–µ –∑–∞—Ö–ª–∞–º–ª–µ–Ω–∏—è —ç–∫—Ä–∞–Ω–∞)
- ‚ö° –ú–µ–Ω—å—à–µ –æ–±—ä–µ–∫—Ç–æ–≤ = –ø–ª–∞–≤–Ω–µ–µ –∞–Ω–∏–º–∞—Ü–∏—è
- ‚ö° –ù–µ—Ç –ª–∞–≥–æ–≤ –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç–µ
- ‚ö° –í–∫–ª–∞–¥–∫–∞ –Ω–µ "–ø–æ–¥–≤–∏—Å–∞–µ—Ç" —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ —á–∞—Å–æ–≤

---

## üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ú–µ—Å—Ç–∞ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã):

1. **–ú–∞—Å—Å–∏–≤ —á–∞—Å—Ç–∏—Ü** (`state.particles[]`)
   - –†–æ—Å –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ
   - –†–µ—à–µ–Ω–∏–µ: –ª–∏–º–∏—Ç 300 + –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞

2. **–ú–∞—Å—Å–∏–≤ –ª–∏–∫–≤–∏–¥–∞—Ü–∏–π** (`state.liquidations[]`)
   - –î–æ 100 –æ–±—ä–µ–∫—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
   - –†–µ—à–µ–Ω–∏–µ: –ª–∏–º–∏—Ç 20

3. **Set –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö ID** (`processedLiquidations`)
   - –†–æ—Å –¥–æ 1000+
   - –†–µ—à–µ–Ω–∏–µ: –ª–∏–º–∏—Ç 200

4. **WebSocket –º–∞—Å—Å–∏–≤** (`liquidations` state)
   - 100 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
   - –†–µ—à–µ–Ω–∏–µ: 30 —ç–ª–µ–º–µ–Ω—Ç–æ–≤

5. **Bitcoin –∑–∞–ø—Ä–æ—Å—ã**
   - –ö–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É
   - –†–µ—à–µ–Ω–∏–µ: –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥

---

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ö–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥ –≤ –∫–æ–Ω—Å–æ–ª—å –≤—ã–≤–æ–¥–∏—Ç—Å—è:
```
üî• Memory cleanup: particles=245, liquidations=12, processed=156
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è –±—É–¥—É—â–µ–≥–æ

### –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –µ—â–µ –±–æ–ª—å—à–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å:

1. **–£–ø—Ä–æ—Å—Ç–∏—Ç—å —Ç–∏–ø—ã –≤–∑—Ä—ã–≤–æ–≤:**
   - –û—Å—Ç–∞–≤–∏—Ç—å 5 –≤–º–µ—Å—Ç–æ 10 —Ç–∏–ø–æ–≤
   - –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞—Å—Ç–∏—Ü –¥–æ 10-15

2. **–û—Ç–∫–ª—é—á–∏—Ç—å Bitcoin –≥—Ä–∞—Ñ–∏–∫:**
   - –°–∞–º—ã–π —Ç—è–∂–µ–ª—ã–π —ç–ª–µ–º–µ–Ω—Ç
   - –ú–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –æ–ø—Ü–∏—é –≤–∫–ª/–≤—ã–∫–ª

3. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å OffscreenCanvas:**
   - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤ Worker thread
   - –ù–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫

4. **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–∏—Å–∫–∞:**
   - LiveStatsPanel –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º
   - –†–µ–Ω–¥–µ—Ä–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã

5. **WebGL –≤–º–µ—Å—Ç–æ Canvas 2D:**
   - –ê–ø–ø–∞—Ä–∞—Ç–Ω–æ–µ —É—Å–∫–æ—Ä–µ–Ω–∏–µ
   - –†–∞–±–æ—Ç–∞–µ—Ç —Å GPU

---

## ‚úÖ –ò—Ç–æ–≥–æ

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!** 

–í–∫–ª–∞–¥–∫–∞ —Ç–µ–ø–µ—Ä—å:
- üöÄ **–õ–µ–≥–∫–∞—è** (~200-400 MB –≤–º–µ—Å—Ç–æ 2+ GB)
- ‚ö° **–®—É—Å—Ç—Ä–∞—è** (–Ω–µ—Ç –ª–∞–≥–æ–≤)
- üí™ **–°—Ç–∞–±–∏–ª—å–Ω–∞—è** (–º–æ–∂–Ω–æ –¥–µ—Ä–∂–∞—Ç—å –æ—Ç–∫—Ä—ã—Ç–æ–π —á–∞—Å–∞–º–∏)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω –Ω–∞ 100%!** üéâ
